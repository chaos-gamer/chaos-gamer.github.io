<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
</head>

<body>
<div id="myDiv">
<!-- Plotly chart will be drawn inside this DIV -->
</div>
<script>


var ids = ["1","2","3","4","5","6","7"]
var labels = ["全站流量","未進精準行銷頁面","有進精準行銷頁面","無大數據推薦","有大數據推薦","未點擊推薦","有點擊推薦"]
var parents = ["","1","1","3","3","5","5"]
var values = ["857522","311606","545916","400370","145546","10550","134996"]


document.getElementById("myDiv").addEventListener("mouseover", function(){var upd = {text: [[]]};Plotly.restyle('myDiv',upd);});
document.getElementById("myDiv").addEventListener("mouseout", function(){var upd = {text: [[]]};Plotly.restyle('myDiv',upd);});

var data = [{
      type: "treemap",
      ids: ids,
      labels: labels,
      parents: parents,
      values:  values,
      branchvalues: "total",
      textinfo: "label+value+percent root+percent parent",
      textfont: {"size":20},
      hoverinfo: "label+value+percent root+percent parent",
      hoverlabel: {"bgcolor":"#453631"},
      outsidetextfont: {"size": 20, "color":"#656565"},
      marker: {"line": {"width": 2}},
      pathbar: {"visible": true}
    }]

var layout = {treemapcolorway: ["#dfd7d7", "#b5c4b1"]}

Plotly.newPlot('myDiv', data, layout)

</script>
</body>