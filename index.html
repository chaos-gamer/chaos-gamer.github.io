<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
	<style>
	.center {
		margin: 0;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}
	</style>
</head>

<body>
<div id="myDiv">
<!-- Plotly chart will be drawn inside this DIV -->
</div>
<div class="center">
	<button onclick="changePlot()";>Change</button>
</div>
<script>

var clicks = 0;
function changePlot(){
	if (clicks%2) 
		{Plotly.newPlot('myDiv', data, layout);clicks+=1;} 
	else
		{Plotly.newPlot('myDiv', data2, layout);clicks+=1;}
}

var ids = ["1","2","3","4","5","6","7"]
var labels = ["110/03/04~110/03/21全站流量(尚未完全排除機器人Cookie)","未進精準行銷頁面","有進精準行銷頁面","無大數據推薦","有大數據推薦","未點擊推薦","有點擊推薦"]
var parents = ["","1","1","3","3","5","5"]
var values = ["2393479","940932","1452547","1151978","300569","22136","278433"]

var data = [{
      type: "treemap",
      ids: ids,
      labels: labels,
      parents: parents,
      values:  values,
      branchvalues: "total",
      textinfo: "label+value+percent root+percent parent",
      textfont: {"size":20},
      hoverinfo: "label+value+percent root+percent parent",
      hoverlabel: {"bgcolor":"#453631"},
      outsidetextfont: {"size": 20, "color":"#656565"},
      marker: {"line": {"width": 2}},
      pathbar: {"visible": true}
    }]
	
var ids2 = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"]
var labels2 = ["(未來完整報表範例)全站模擬流量","未進精準行銷頁面","有進精準行銷頁面","未查詢iSale","有查詢iSale","無大數據推薦","有大數據推薦","未點擊推薦","有點擊推薦","未進入申購流程","有進入申購流程","未成立訂單","有成立訂單",
"未進入申購流程","有進入申購流程","未成立訂單","有成立訂單"]
var parents2 = ["","1","1","3","3","5","5","7","7","9","9","11","11","2","2","15","15"]
var values2 = ["1000000","300000","700000","200000","500000","50000","450000","405000","45000","40000","5000","3000","2000","270000","30000","29000","1000"]
	
var data2 = [{
      type: "treemap",
      ids: ids2,
      labels: labels2,
      parents: parents2,
      values:  values2,
      branchvalues: "total",
      textinfo: "label+value+percent root+percent parent",
      textfont: {"size":20},
      hoverinfo: "label+value+percent root+percent parent",
      hoverlabel: {"bgcolor":"#453631"},
      outsidetextfont: {"size": 20, "color":"#656565"},
      marker: {"line": {"width": 2}},
      pathbar: {"visible": true}
    }]

var layout = {treemapcolorway: ["#dfd7d7", "#b5c4b1"]}

document.getElementById("myDiv").addEventListener("mouseover", function(){var upd = {text: [[]]};Plotly.restyle('myDiv',upd);});
document.getElementById("myDiv").addEventListener("mouseout", function(){var upd = {text: [[]]};Plotly.restyle('myDiv',upd);});
Plotly.newPlot('myDiv', data, layout)

</script>
</body>